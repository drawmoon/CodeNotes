# Study to C

## 主函数

一个 C 程序有且只有一个主函数，即 mian 函数。

```c
#include <stdio.h>
int main()
{
  printf("唯一的主函数，也是程序唯一的入口");
  return 0;
}
```

## 数据类型

- 基本数据类型
- 构造数据类型
- 指针类型
- 空类型

### 基本数据类型

| 数据类型 | 说明         | 字节 | 示例                     |
| -------- | ------------ | ---- | ------------------------ |
| `char`   | 字符         | 1    | `char sex = 'M';`        |
| `int`    | 整形         | 2    | `int age = 14;`          |
| `float`  | 单精度浮点型 | 4    | `float price = 11.1;`    |
| `double` | 双精度浮点型 | 8    | `double pi = 3.1242000;` |

### 整型

| 数据类型         | 说明         | 字节 | 取值范围                 |
| ---------------- | ------------ | ---- | ------------------------ |
| `int`            | 整型         | 2    | -32768 ~ 32767           |
| `short`          | 短整型       | 2    | -32768 ~ 32767           |
| `long`           | 长整型       | 4    | -2147483648 ~ 2147483647 |
| `unsigned`       | 无符号整型   | 2    | 0 ~ 65535                |
| `unsigned short` | 无符号短整型 | 2    | 0 ~ 65535                |
| `unsigned long`  | 无符号长整型 | 4    | 0 ~ 4294967295           |

### 浮点型

| 数据类型      | 说明       | 字节 | 取值范围                      |
| ------------- | ---------- | ---- | ----------------------------- |
| `float`       | 单精度型   | 4    | $-3.4*10^-38 ~ 3.4*10^38$     |
| `double`      | 双精度型   | 8    | $-1.7*10^-308 ~ 1.7*10^308$   |
| `long double` | 长双精度型 | 16   | $-1.2*10^-4932 ~ 1.7*10^4932$ |

## 格式化输出语句

格式化输出语句，也称为占位输出，是将各种类型的数据按照格式化后的类型以及指定的位置从计算机上显示。表达式为：`printf("占位符", 值)`。

| 格式符 | 说明               | 示例                  |
| ------ | ------------------ | --------------------- |
| `%d`   | 带符号的十进制整数 | `printf("%d", 10);`   |
| `%f`   | 6 位小数           | `printf("%f", 1.23)`  |
| `%c`   | 字符               | `printf("%c", 'a')`   |
| `%s`   | 字符串             | `printf("%s", "abc")` |

## 常量

在程序执行过程中，值不可以发生改变的量成为常量。

- 直接常量
- 符号常量

### 直接常量

直接常量也成为字面量，是可以直接拿来使用，无需说明的量。

```c
printf("%d", 100);   // 整形常量
printf("%f", 1.1);   // 实型常量
printf("%c", 'a');   // 字符常量
printf("%s", "abc"); // 字符串常量
```

### 符号常量

用标识符来表示一个常量，成为符号常量。符号常量在使用前必须先定义，定义形式为：`#define 标识符 常量值`。符号常量的标识符一般习惯使用大写字母。

```c
#include <stdio.h>
#define MESSAGE "Hello World"
int main()
{
  printf("%s", MESSAGE);
  return 0;
}
```

## 类型转换

- 自动类型转换
- 强制类型转换

### 自动类型转换

- 自动类型转换在不同数据类型运算时发生，在编译的时候自动完成。
- `char` 转换为 `int` 时，会转换为 ASCII 码中对应的值。
- 字节小的可以向字节大的转换，但字节大的无法向字节小的转换。

```c
char c = 'a';
int i;
float f;
double d;
i = c;
f = i
d = f;
```

### 强制类型转换

- 通过定义类型转换运算实现，表达式为：`(数据类型)(表达式)`。
- 强制转换不会改变原来变量的数据类型与值。
- 强制转换运算的结果不会遵循四舍五入的原则。

```c
double d = 1.234;
int i = (int) d;
```

## 运算符

- 算术运算符
- 赋值运算符
- 关系运算符
- 逻辑运算符
- 三目运算符

### 算术运算符

- 除法运算中，如果相除的两个数都是整数，则结果也为整数；而两个数中有一个为小数，则结果为小数。
- 摸运算中，只能用于两个整数之间进行运算。

| 名称       | 运算符 | 示例                |
| ---------- | ------ | ------------------- |
| 加法运算符 | `+`    | `int i = 1 + 1;`    |
| 减法运算符 | `-`    | `int i = 2 - 1;`    |
| 乘法运算符 | `*`    | `int i = 1 * 10;`   |
| 除法运算符 | `/`    | `float f = 10 / 1;` |
| 摸运算符   | `%`    | `int i = 1 % 1;`    |
| 自增运算符 | `++`   | `int i = 0; i++;`   |
| 自减运算符 | `--`   | `int i = 1; i--;`   |

| 运算表达式 | 说明                     |
| ---------- | ------------------------ |
| `i++`      | i 取值后，i 的值再自增 1 |
| `++i`      | i 自增 1 后，再取值      |
| `i--`      | i 取值后，i 的值再自减 1 |
| `--i`      | i 自减 1 后，再取值      |

### 赋值运算符

- 简单赋值运算符
- 复合赋值运算符

| 运算符 | 示例          | 说明                   |
| ------ | ------------- | ---------------------- |
| `=`    | `int i = 0;`  | 简单赋值运算符         |
| `+=`   | `int i += 1;` | 等同于`int i = i + 1;` |
| `-=`   | `int i -= 1;` | 等同于`int i = i - 1;` |
| `*=`   | `int i *= 1;` | 等同于`int i = i * 1;` |
| `/=`   | `int i /= 1;` | 等同于`int i = i / 1;` |
| `%=`   | `int i %= 1;` | 等同于`int i = i % 1;` |

### 关系运算符

运算得出的值是“真”或“假”，在 C 中用整型 1 或 0 表示。

| 运算符 | 说明       |
| ------ | ---------- |
| `>`    | 大于       |
| `>=`   | 大于或等于 |
| `<`    | 小于       |
| `<=`   | 小于或等于 |
| `==`   | 等于       |
| `!=`   | 不等于     |

### 逻辑运算符

运算得出的值是“真”或“假”，在 C 中用整型 1 或 0 表示。

| 运算符 | 说明                                | 示例     |
| ------ | ----------------------------------- | -------- |
| `&&`   | 并且，同时满足两边条件时,结果为"真" | `0 && 1` |
| `||`   | 或，满足一边条件时，结果为"真"      | `0 || 1` |
| `!`    | 非，取反                            | `!0`     |

### 三目运算符

满足表达式 1 的条件则执行表达式 2，否则执行表达式 3。格式为：`表达式1 ? 表达式2 : 表达式3`。

```c
1 == 2 ? 'y' : 'n';
```

### 运算符优先级

| 优先级 | 运算符                                |
| ------ | ------------------------------------- |
| 1      | `()`                                  |
| 2      | `!`、`+`(正号)、`-`(负号)、`++`、`--` |
| 3      | `*`、`/`、`%`                         |
| 4      | `+`(加号)、`-`(减号)                  |
| 5      | `<`、`<=`、`>`、`>=`                  |
| 6      | `==`、`!=`                            |
| 7      | `&&`                                  |
| 8      | `||`                                  |
| 9      | `? :`                                 |
| 10     | `=`、`+=`、`-=`、`*=`、`/=`、`%=`     |

## 结构语句

### if 判断语句

判断`表达式`是否为“真”，如果为“真”则执行`if`中的代码块。

```c
if (表达式)
{
  代码块
}
```

### if-else 判断语句

判断`表达式`是否为“真”，如果为“真”则执行`if`中的代码块，否则执行`else`中的代码块。

```c
if (表达式)
{
  代码块
}
else
{
  代码块
}
```

### 多重 if-else 判断语句

判断`表达式1`是否为“真”，如果为“真”则执行`if`中的代码块，否则继续判断`表达式2`是否为“真”，如果为“真”则执行 `else if`中的代码块，否则执行`else`中的代码块。

```c
if (表达式1)
{
  代码块
}
else if (表达式2)
{
  代码块
}
...
else
{
  代码块
}
```

### while 循环语句

判断`表达式`是否为“真”，为“真”则循环执行`while`中的代码块。

```c
while (表达式)
{
  代码块
}
```

### do-while 循环语句

先执行一次`do`中的代码块，再判断`表达式`是否为“真”，如果为“真”则循环执行`do`中的代码块。

```c
do
{
  代码块
} while (表达式);
```

### for 循环语句

`表达式1`为对循环变量做初始化；`表达式2`为关系运算表达式，为“真”时执行`for`中的代码块；`表达式3`为自增自减运算表达式。

```c
for (表达式1; 表达式2; 表达式3)
{
  代码块
}
```

### break 关键字

中断循环。

```c
for (int i = 0; i < 5; i++)
{
  if (i == 1)
  {
    break;
  }
}
```

### continue 关键字

中断本次循环，执行下次循环。

```c
for (int i = 0; i < 5; i++)
{
  if (i == 1)
  {
    continue;
  }
}
```

### switch 判断语句

`switch`与`多重 if-else`类似。`case`的常量不能出现重复。

```c
switch (表达式)
{
  case 常量1:
    代码块
    break;
  case 常量2:
    代码块
    break;
  ...
  default:
    代码块
    break;
}
```

### goto 关键字

执行代码到指定标识符的位置。格式为：`goto 标识符`。

```c
#include <stdio.h>
int main()
{
  printf("程序开始执行");
  goto TASK;
  printf("使用goto关键字跳过了本段代码执行");
  TASK:printf("执行TASK")；
  return 0;
}
```

## 定义函数

- []的类容可以省略；函数的数据类型省略时默认是`int`；参数省略表示为无参函数，有参数时表示有参函数。
- 函数命名与标识符命名一致，遵循小驼峰法命名。
- 自定义的函数需要在主函数之前定义，如果在主函数后需要在主函数之前声明，定义形式为：`[数据类型] 函数名称([参数]);`。
- `return`的表达式结果的数据类型必须与函数的数据类型一致。

```c
[数据类型] 函数名称([参数])
{
  代码块
  [return 表达式;]
}
```

## 函数调用

需要使用定义函数称为函数调用，格式为：`函数名称 ([参数])`。

```c
#include <stdio.h>

int sample()
{
  printf("Hello World");
  return 0;
}

int main()
{
  sample();
  return 0;
}
```

## 形参与实参

- `形参`是定义函数时声明的参数，是接受调用该函数时传入的参数。
- `实参`是调用函数时传递给该函数的参数。

## 递归函数

当在函数的代码块中调用自身称为递归函数。

```c
#include <stdio.h>

int sample()
{

}

int main()
{
  return 0;
}
```
